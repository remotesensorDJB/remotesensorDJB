---
layout: default
---
<!DOCTYPE html>
<html>
<head>
	<!--#1 Set the title of your web page here-->
	<title>Kentucky General Election 2019: Voter Turnout</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
	
	<!--Reference the Leaflet CSS style sheet here-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    
	<!--Reference the Leaflet Javascript library here.-->
	<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>

	<!--Set the CSS style for the html/body and the map itself. You can change the dimensions of the map below-->
	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		#map {
			width: 800px;
			height: 600px;
		}
	</style>

	
</head>
<body>
	<h1>Kentucky General Election 2019: Voter Turnout</h1>

	<!--This div tag will contain the map that is generated in the script below.-->
	<div id='map'></div>
	
	<!--#2 Add the script that declares the tractData variable containing the GeoJSON data on the line below.--> 
	<script src="voter_reg.js" type="text/javascript"></script>
	
	<!--The script below defines the Leaflet map-->
	<script>

		//#3 Here we declare a variable called 'map' for the div tag above. Go ahead and set the initial location to Jefferson County, KY and the appropriate zoom level of your map here. Format: setView([lat, long], zoom)
		var map = L.map('map').setView([37.84,-85.05], 7);
	
		//I have added a basemap from Mapbox for you. 
		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {

			maxZoom: 18,
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
				'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
			//#4 You could experiment with the basemap below. Try 'mapbox.streets' or 'mapbox.dark' for example. 
			id: 'mapbox.light'
		}).addTo(map);
	
		//#5 Add the function getColor below. You could use colorbrewer2.org to generate a set of hexidecimal codes that you prefer. The break values are based on Jenks Natural Breaks classification, which I have pulled from ArcMap. 
		function getColor(v) {
			return  v > 45 ? '#ae017e' :
					v > 40 ? '#f768a1' :
					v > 35 ? '#fbb4b9' :
				             '#feebe2' ;
		}
	
		//#6 Add the style function here. We set the fill color by calling the getColor function from above. You can set the line weight/transparency, dash pattern, and fill transparency by modifying the properties of the function. 
		function style(feature) {
			return {
				fillColor: getColor(feature.properties.turnout),
				weight: 1,
				opacity: 1,
				color: 'grey',
				dashArray: '5',
				fillOpacity: 0.5
			};
		}


	
		//Here we are declaring the variable 'layer' which will contain the GeoJSON data loaded in the script above, and then configuring the layer style using our style function, and the on click response by binding layer pop-ups to the layer. 
		var layer = L.geoJSON(voterData, {
		
		//#7 Add the style: style, property below to apply the layer style to the GeoJSON data
		style: style,
		
		//#8 Add the onEachFeature code below to configure the pop ups. 
		onEachFeature: function (feature, layer) {
			layer.bindPopup('<h3>'+feature.properties.NAME+' County</h3><p>Voter Turnout: '+(feature.properties.turnout)+'%</p>');
		}

	}).addTo(map);

	
	</script>
	
</body>

</html>
